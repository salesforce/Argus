ArgusWeb
=

#### Build the Front-End
---
> Install the following:

- NodeJS & NPM
- Bower (required for versions prior to Argus 2.6.0)
- Grunt

##### Install NodeJS
#
> **Recommended** - You can use Homebrew to install NodeJS.  This will install the latest version.

```sh
$ brew install node
```
This will prevent NPM permission issues when installing bower & grunt globally.

> OR, you can download and install the latest **stable** version of NodeJS - https://nodejs.org/en/download/

#
###### To fix any NPM permission errors:
- http://stackoverflow.com/questions/16151018/npm-throws-error-without-sudo
- https://docs.npmjs.com/getting-started/fixing-npm-permissions

To verify NodeJS installation:
```sh
$ node -v
```

##### Install Grunt globally
#
```sh
$ npm install -g grunt
```

##### Install Bower globally (required for versions prior to Argus 2.6.0)
#
```sh
$ npm install -g bower
```

To verify Bower installation:
```sh
$ bower -v
```

##### Build Commands
#
###### Run npm to build and install (Note: has run the command under %this_repo%/ArgusWeb/):
#
```sh
$ npm install
```

###### Run bower to install packages from bower.json (required for versions prior to Argus 2.6.0):
#
```sh
$ bower install
```

###### Run grunt to build
#
```sh
$ grunt
```

###### Use [Webpack](https://webpack.js.org/concepts/) to bundle non vendor Javascript files (optional)
#
```sh
$ npm run bundle
```
*dist* folder will be generated by Webpack in *ArgusWeb* directory

#
> NOTE: You can update the following .json files to reflect the environment you want to build for.

./config/local.json
```sh
$ grunt replace:local
```

./config/development.json
```sh
$ grunt replace:development
```

./config/production.json
```sh
$ grunt replace:production
```

#
##### Available npm scripts
Remove all existing npm modules
```sh
$ npm run clean
```

Use [jscodeshift](https://github.com/facebook/jscodeshift) to replace all templateUrl references to `require` format for webpack build process
```sh
$ npm run transformTemplates
```

Use [webpack-dev-server](https://github.com/webpack/webpack-dev-server) for development (Must run `npm run transformTemplates` first to have proper templates)
```sh
$ npm start
```

The reverse of `npm run transformTemplates` (normally run this after done with webpack)
```sh
$ npm run undoTransformTemplates
```

Run [eslint](http://eslint.org/) check against *app* folder (all the source code)
```sh
$ npm run lint
```
